# Automatically generated on 2020-08-10 UTC from https://codemagic.io/app/5f317971cfa936e4b9f461b7/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 60
    environment:
      vars:
        CM_KEYSTORE: Encrypted(Z0FBQUFBQmZNWHEyaUkxZjBfTDVQbzNHOGlDdWlGT05pUmh3WmZjVlFZWVJwX2RESVdpdVRENUYxRXIyZlhGUHV4dXpCVzQ4d1dNVW1ocmQxZ3dZQXhpY2RRaFhTZ0o1cWVFbGs3Zkdsb1RBTzJhOE1Xek9OdTdIQnRqdF9JUFVMbjV2bGRxWkYyWmwtTUd1OU9hSGJQdDBZUFBJeklQbmx2R2I3MzdwMFNvXzl0bmp3WXVYWDFFQlp1S011MDktQXRZS2lybFhoY1JJdHZHeUh1LVZTcUxyNTVYNDJCbU05eU9vSGFLa09KNHNTdnZ1LVlKOEZBYUFYSHJfN2dGQmM4aENKYlIxWGNNWElKTXFaSEM3ZUI3YTBPYVBSZHRGM1ptYkhpcWQ1Nkx0S3RrYkF1QjBJcXA0RkhGaXNjRklOT0pSREczZTNUNXRueG9NTFhoNUlyRGp3RUdTVjhDa1hrOTFVNDhTNENKNnA0a2ZaMEk3bUhuTGdjLXNhMlhuVW4zRmFiWWp3VnoyNzhZZ3N3enNuQ3BZWGtNdHU1WEc0UHUwNmEyc1lQMG45TnpRY2JPUFNGZ2FpeVl2RGpZZFdFcVhDalhWRFhPTi16Y0NRU3YyRXRfRDVKSHZTTFJfWGpSU1lVb3l0dUg5b1dYSmtFNVZfcWpmbVVoU2lTZS1ORTE4blE5UEFjZlMxeVpYWGlJYkhjTDA5d3d5cFlxN2tCM3JhVllTRElpRnd1SnFtZVBVeDhRcC1FbFVTNzlSaUZmVjhJRFROdFVRMmZEM3NDX1c5YWJTS2tCMm9SYVZiNC16ZWVDZXNDeVdNQ3RIWEVkc0NuXzR6WGNMYnpCbVNtRk84VjB3Ym1VWmpJdUNDZmFXakRwM1FFNDdpVDhRSlFoMzVyWTE3ZENKSElDdnRwUnJOamZWVW5VOW5SSmVudzJ0Y0daQkhFY1JUeXlvclBENkVRc2ZZclFyTVhQODBIZEs3R3hYc3hGZEU1WjZleFdkMUR2bGI1Y2R6NVpJVk0zNlZfcU5mcmU5NHl0NnUwekw4Mmdzc1k5eWNaTW9fajFQTGVhU2Q0Q0ZwOVoxUUlWUF9CZzFQQlBNZ1Nvb000c25tWWF2TndLQUh6ejV6UmhJVU9RdHAyTGZrU01xQWdkalhkcC0tUl9rSUw3WWY1SGV1ekljeXczZjY5eThIaVRNM0NiUW9GZnVRdFRoT1ZfMWNwMTNxNDFrSXJtdkVmdFdoV3B6cmoteVNCaGQ4VW02R09VUURsQXNqb2tRMHBoaE9LTnA3N1RqNXFFMmVEM2RlamhvNnJHYkI0ZGFCM0VHWExoRjdhQ0RFT3hiZUtUT0o4SExfNWNldjBnSk1ubmREVkZ1X0hjVTZnUV90TXhGNzhvUUcwUHBVOWF6OVRvdXlwM2NnazVRUVBaNmJYMVBIUTNjaGtBVlBmTXJZdlgydkZlWXN2b20wZHkyMWZiZlQyMVVieEtSb0hDMGk3STI5VVdLS00wMVhCMlIwY2QtYmE5WHlrcTJpVkZibzUtSnhYNUdLQ0Y4dlRjYTdFQk5PckRfS2dnV2pUVGpkUnozWk03QTRoTG5QOU03aTN4YmYtOVlCTFp2WmpZUnVETm1sb0RuZlR5X1dlaE1KTmRFcnFrb0FpOXZyczRaaTVJQ2htMHdQVXNjbjRqZE11QkRrU1NzZFI2QjJPV1QtUmkxMkZabjlVaktaOE14TU1lTVprWFFPTTVPZW94ajBRM1dCR1ppMTljeXVtUVJveEgzTGpkVjVlZUhwWGNVR0hFS0lnM3FFN1J0bUZnZ3VWbkt5WEEzOFhxNnpuNTVEVXdOYTBnd0hoTlNZbVRQYkU1RDFFeUc4NXU3d2YzMWIwUEdJN1liUTg5SGdjR0R1by1tbXQ2WnFaZEpJa29BcnlKUnpJelVoREQ1VVhjTTBHZE93azVjUTBPaUEtdHFRS21Lc0RiSDJTUFFvY2ZmblFXVUJvNkIwUHR6cGE1R1UzZlR2RTB0a05wOUViQlROU0d2eDF0d1ZxSEV0NWlZRV9fZy1yZTJScmtkM0FZQjBVQTZueUJ2SVdIbjFkcHJ1X1hOMWNlM3JOaERucmxrLVBfZmVVd2dhT2otOXB0QlJSb3B3UDlyT3hVVFlGMlM2d3R6QWdhLVItMXF4U25tRzBjS2dyVHk5UjVTNHVZcC04ZTlsem5aRF9FTS0wbDZOdUxucVF6aDhBRVhnOWxGM2tQWG1VWkN5SFRXYUp4N0pjZGg3UlJDZ3FmLW1uZGpSb21CZ09DSE85YVFIeldoeG5Rc2xXZTJwb1JOUUpPRU9XbXc1Y3dReWliTmpXVjEtdVJiLXY0TTJQNmlOTGJydC1PMExSQnJxeE5NMHMtWDZQd3M2dDBGSWswTGhVNWRkSUtxb2NRN1F3dDVJMzVhTk52ZDBqbWJtM2tGUFVVMmRscDBmZXlqVk1kR1NKbXRFdkFIalpWTXJfa1d5SWZfVDV6NG9KWVJPN2NwWmlIRUJwaXVTN1o3Ylg0WGZ1a1Z1ZHVJT0hVdWFFN00zeHhlYXBVTGhCYkJzSDk3am9jWV95TUI4TjNSU0pVa3F6LUFLTjg1Z3NKSndSNUw5RjJBTFV6UUlFN2JIUHZkSVlRZVpJVUs3U1FvN2NvdjRJZUlZRmtyekMyd0I4dTk5U3ZrdUNIRENTQ1VSS1E5Q0VTX0dsQ2NLa1k4SVlvYTh4VTFCMk0xRjhqTU1MaF9ScmxOUW1jazVKNTNTVHNaM0tRQlBwaFhsUDJiQmJRQmU5ZU9JTS0weEpXTy1WNHJ2SDVxUXVkczFmSlZQSEtwVlhNWjN2NTlZVXlqcEpoeHE3ZXhDUk55YmlaTG1LZnFCenlnZVhFX1JYWTFWUU1DQlFuNld6OVFYRWJfVy1aN0FjdTlPUURIWHQwWG5Ea3hoNktLVEF0RlFVZ0t0ZHJlelhzMExQd05LZV9MMVpCZ21pbkc3bndTSHZhSkxfbVRjYTBUV1JPeUpMSEp3Zk91VUpvb0NSbXBFSEhTZ2tPYlBIUXJKLW5tUUdEZmJxQXpkWUdRSDJha1ZTLUptX3ZycnZSWmNsRTRVR3o2aURuRG1RVEN1LUJvMGhYbFJ5NEFGZWdTV3pXVVBCLUUzOVJlRmE4QW9KbS1hU084R3dWOGpaSE1zN0E0VWZDb1pTdVU3SU9OVkVVYkEtRnZQTzhCeVVFTXRQNS1RdzVPLXh2VmtGQWFnc25VajFic3JGVFlCQ1g4QWprUWpRZnd4ZkFHZ2ZrSlBneEhCOXJucFVkVzJIdUVMZXlwV1RSVDZON0dBeURxOFlwaGdqOFlfX0hOMzdYTGxNSW5yOHJsV2VlUDJERlp2VUxtQnk1M21TY1drbXFMTXNIMkNMZlRzM1pUMjgzQ0pWTlIycUxwUW9mSTNsVzNLT1ZfbnJqYnpSTHhodlVVQklCSG5WNzg0N0dTMkEtRzU3MG9Pb050SDdyeDNvSW1xRk1LV2tkTVFqdWV2ZlhMamkyaHY4TkFzNXJ1M2dneU50NlBOcmRoSTdSOWd0NndJNUk0Yld6WHBIRTVCYTFnUHk0XzJKT0hnTnB2WmY4WHpYNFkyNEFudmZ2R2oyamF1SGg1a2dKamtIVlQ1V0x5N0tJQ3B1bkRpb25NMXhsTTNCLTlINkI1Z29pREZHU2xnTU5UOGRMTWp0MGRRZG9DUUdpcEowbTlVMFVXSlBuV0FRcU5pNHdrVk1BWW1IMW5naWFKX0otcjR5Ymx2SS1WdjBqRS1nMUNwSEI4M2J4X2twYzIxRVJFNGJ4d01WZ0RDWlNQMFJpVFJjdGhkS2ljSnktYkR2dHd6ZWl5VUxSUFliNkE5R1Z3SnBDaTQwQWFJMGhrcWJ5dE9relRMZjlfZFlKY2cxTDgyUUdreV9LejZqWUlTOTZGcEpBNmVJaHhaQXlUUVFnRDl2OU52MjVYVzVEQzJHeDJneGdCTVlObVJsOUlBNXlWSjNyMTFTVjN4SERMWmRZMFFHSXg4REo2Y0kyeDQyNTc3d2VkRXZ5YWdDTGZKbzhVSEs2bWFOak1IQ2JEOGVGRzZxc3B4YWlOU09WQ19obDZkTWVEMnBYYUJwUVVLWGRCUkcyOVdhcTBqbXNHanVJRnJTU29QZFc0SG1XNlZmWmZ3M05uU25XeUEySkZ6bmJhbGFUZUo5NWUxdGJqODJWNHNzQmthLVBGZHJoLXZqcmcyWHRSYlo5WDluNHRwc1ZpODJtcXZrTWs4TVJyNmR3SmkwbTBmUkVvT1BLQkx0WFo4aXd4SF9EenY1RjJnQzN5VGNvTHNudTc3RzR5WVdlMm1NSDY5QkdjV0lNUHhaUzdadW1jeklQYXV1X2dxSUNwV0pnOFMwT2lPMzBjenpYbHJ2QXRtcHBOYTR1VW9WVFRrVlA4czJsd2FJM05zTEJCQk1UOFRfbmZBWkhsUWhzR29lcWpjeVNfV1pPck43MWJXRWQ0TVk4dGlPTjdwSldBM2hhMG1VRU11QTJuVlp4SUpkbENwbWxPYWxHU0k1U0YzTm5yS2dxQzNVdl9oZl9BeGYtajlENkdFQmk1YWY5RXdubDl6cE5wekdxYkRFT2IxY0RsemgxNWFXdU1oREt6UnMwbUtqZkFVdlpCZU8wZmJzQ0U2ck1UVjdNOUdGOTVVdFhPRjltdWlYcDByTWJMTlFuNHR2T015WGx6MVBQQUNSNGZCYTNRWnU0eHdHMHpMR1NudlpieHp3MF9fT3B1RUVVSzI4WURrNGxLTlVtazdMYjZhTzhJcE1QX29jNHNlandCRGx0c05mazRGVndtQnEzazAwZHN1NGRIdGIzQmZtYnpFcWZIbmhoSV84Ml9Lcy04Um1rclE5SzF4T2g4UHE0ckhZV2dlUlo5SnRoMXFWYXBFXy1xX1BfS2x5Q0hpNHpWRVhrMW5SSndXLWkwc0c1YmlZbzJCcEFfemxkNlN6MjZpMVctZXltekV6SXVHZzRWSVd4eW9PcUs1WVJacnBuRzAwM3RRcTh1Q3JTdGJCWTh1TFB3Tl95aW83SXhFQXpldTdsMElVcXJJeGowMTNTQm5sRU1SSjdXQVl3NFpTVVRIcG9DVlBMMWRRQkVjM2RFcnlEdzJjM2tRSnU4UUhtM01RcU1WLS12aEV0OEU0d0NUWHVmblNGaV9TNXhyRmNfTE5oSFhxMEY1Y2EtQkp3MTdTNFl3Rk9Ka2N0djJzOVhuT1RobGVLSGZ2YUtpVlJGNTNLWUxLcEE2MlJyaVp3eHphUWVaY2w3OGdLMHdQS0h0aTNaSUxuWUV2S3VHRHNhb3FUZVk1LVhXWUJrdlU3cUJ0cXpvSHN4NUV5M0ZxSUZHTjAxblRWVVR6R2dNN1draWpOMC1pZXNaclZUZWJob0RjaUhPazNhTHFDN29ZVFB3ZEpxS0ZqRDlLYz0=)
        CM_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmZNWHEyMTJPX2pTM0xDYzZ3VFhobnhYY2hxOHpQcWdZNzAySE1LdFhPVm9zVFBsNDI1WTh1WkJMMVVJSzdaX2h1YXEzUHRtNF8yZjZfYUIzLV9MVUdHVENuU3N1Tk5XSGxKRXZGV2RseXBBb1N6LTA9)
        CM_KEY_ALIAS_PASSWORD: Encrypted(Z0FBQUFBQmZNWHEycWdzMWthNHVHRjlaa2ExWGNSZWFBUU82eHJvRjlPczJpNFJrVmw4VktOVHNheWZoRTdHTjd0YTduUGNZY1RoS0hpUXkzc0VyZWhaYVRSRkhLeWNiOUtxN0NnTlM5cWFtcUdqb2tRVTdJY0E9)
        CM_KEY_ALIAS_USERNAME: Encrypted(Z0FBQUFBQmZNWHEyZmxMYldsMDc2aWZ0ZHFtWEdGd1gxOHpST1dJRFRPaXdpYlB2dVFoaHRWYmJMbXVNN29velU2aFVmT0I0SER4VFBES1NhNHdGOS1uRmN3aDlSTlRLYVE9PQ==)
        CERTIFICATE_PRIVATE_KEY: Encrypted(Z0FBQUFBQmZNWHEyWWJ5dzRNdUwzTnc4eWh2ZHlTVTFLR3R6R2gwaE1vUi1sb0dfMVpreXdZc3dwenhrM2dMdm9lMjZxNjl2azdIc3dIckhOQ0tObkJ3ZUgzcVFXcDMzTHdROHk0Tmc0eWRieE96SlVjRjVyVlExVFB6MFNYZkR5Q3ZhcjZYY0VhbDAwdTNCYU9KVm1CY0NEU3dkWUthOGU4QlBRSDR6M3Qzb0R1NWtIWGFmU3l1TzZLaW9KQ0k2YlV5YjRKMVBqWHpKcnBXcmhBcWxUSTVkWm1JVEFwNUdUZjhmVXkxdTBmQVRvbXNJaXptSERwc2VseVZ3WDRSam1adDJVQVhkaVlyZldGZHE0UGtDSHk2dE5XRVRLRDZJNk5NY21lSGhWN0ZwUUZFQ2MzYmx4cDZrejlPNlo5dFpiWkpfanI1VGVkZS1KM2l5ODBCMkNZOGx2ekEtOU5CRXZLZE4zOW40dEdFcWdCVDFEQlhHRzNEQy1pNzZvWmJMZjA0VE16T2EyQWVnanUzUGtDeTFEcU5vSGtPajdNVHFHWkZneWN3eHAtcVZjTHdIbTBnclZ0NlhyWDVRX0JzZUd6RVJHTDlCQzVNUFZNRWNtN3lLemJRS0NhOThfbHFERnQ1cWdTSlBhX2hES2Q3ZW8wYnc4YkYyNEM1OEh5Z3dMeENEdXgwM0MzX3F2aktCaDdnOVZjTWd4dzlhZnhUTGVoVXBYTjlDY1UxOU1UMy1FelEzMmRBdlVhaEVLNTBiaWVza2p4NkxtcnMyb3FFTlpSNTU0OWphWG1ZRGFUcUlxeVBSWlUyOGdVQ1VnaUFoQVQ1U3hBMXZOMzZEVnRHOE1vclJTcjY1VFVLandjQ0tkdUZZekFaNlBLRzh2TmE2SlB6dHBvR21Ta1lwZ2p6bTNLd1FEdG5XWnF3MWE3OGotQWpadUdqdloxMGpRTjdmR3Yxb0xwcU84dkh4T1Zmc2NVU1pic3VmVVVIRW9IQ1JZX2ticFctNTMxd25mS2NuSGxQaGk2TFpnTDNtbVFRbm1ZSEtEMm1aR1ZYUTdyS2dWUkw5VUVReDdiV1BMdmotbld2amZXb0E1amYwcHhxYVJHajVwd0lPTXV0b1J1NHVldGZ1RS1tMFJ1ejU3NXNKQ1VxRFptYTRheUxCaktlXzVVcG53NDJnTmFSdVcxU3hYbC1NOHVQUGZIVUV2VXZ4RUVWbjBubFRFUUZKOF9BODN2MklJVVRWN05ETHRfNzBJSFhhQk5MYUZDN044b1cxaUhBdzBjNV9OTnR6SVV3cjcyc1VvVFlFWEY2VDcxcjFHdlk0MUd0aG9oSTVvQVpfOC1uT0tZWVgwR1Bxa0p4SzNsNWQyVHpzc0xpRDMzRWJiLXQ1TWNDZnJVOFFLSGR2d0dVM3duQWZ0dFFOSERjUllHNmtlWmZTQUZHeDFDM190LUx1WEh5dnk0RHNraTlmWjV2OVpXU2NCSDB0VXVwa0tpTXBLeVZwTDY3WTdWX3k3Y2kzMDdqaWxIVGRyRXZSclRERHFNcXJDYXY3MVpBTjZDdFQwTXpoTVpFYVF2ZkhfMXRRekF2VGJWQUNOWDRCUDFhc0M4bU5GSFBoMVkzVDRSWjN0QlRqWGxyT1FqNDgyTkJyUmtuYWZMb2tPTm1PbXpqUGt2Z3ZPTmEtZHVJdkpFbE14eEdlZ01zX0dzUGhuc09CRVNJeHpJVW50NzM3eHhiVzUybGJkeTE5bGk4cEJkdUN5eVk5clhsWENsYXlhOF9aU0ZMMkNZd2s4N2h3NkNGaXJoQ0xSSm0wcWwtbFZfakV5dk5hdzFOMWg3R2tIV2R3SDVXYjJyWXVkLVFYNjJadXhHbVpRcmZkd3VQVDc5ZGswSUNnVU1iV21fc3ljeWVPcGlzclJVWWdnUFJ5X0lHb1pJMUZaV1poMDBRY25OTVcwTFRoS0pQbVc4eEVrN1J0VWhCMVJ5REtmVDhOeGFINGFSczJGTzBnV1VocUJWbUZxeWtrYzZLTVJIWmk0RXFTX3I5VlNOTFFyVzhac3hiLVJIcmVHVWp0alRXdThoNFN1YnFLTjgwa3V5c1NYMHpCV3MyaE1WSk9WTVNvcEFGa2tsaDBsNVhZeGl6eE04MWRnNGtZZ2ZLQW82bjJwS09yZTc0TFhwaGRIT0JXLTlKNWx4OHJpOTUwUloxNGVlVlV3bHRaUHBtblNoaXhPTTZKM2xhNnFNblpBUGdXeEhDMmpmZmZCdkQ3dEJnN0VsVGRpVUc1UnBBa1N3UVlnM25KMENHRTg3VDZId3I5enNadVZIY0I1ZEtZOFRDSHVuaGxaN0Z0WGNWdmlCdklPNnJONHM1WVVtWkRXd3htX1U0bmxaaENPb0NkQjktbzhodXRSYVBLeVlzSlJ6ZXpYLTJubGduZDgxT1pZbFRWYmNfZlUxZDZrS2JlNFZfSEY3RDIyM0RzeVJPTXlHcDhpVWdpOHBINXhCRnhkV3FWOUtBbHdoWGVNY0Y1Vi1KOW1yV2h4blNVZExzQ0UxZmMxUW5qaFo3T3VEcTUzRllJOF9LWDZwNE9aWTU2WnB5ZUd0eDBaOGIyRVBRNklMaXFQbGUwa0lKQUFFYUEyX2Y4d2Z5ZDN5MVpVTEpFeXBXcFVzaHRuMlJ5LS1OVHgyVUxTdTNNUzJTWGdhbGoycTk3WThOcUVTUllEOTNLX3lyTTJkbWNvWHBIX3hjU09RLXhrWl9oV0RMeFlVcWNBRXZlRXZzYUJnSmdLWjBBbXdTMUxoMnZxUzdPWUlmV3MxRGp0MnpWMlZPVHpvaXIwcWZnQS1haG1ZWHIxbmJKU3VucG03NE5ZVmJ5RnZLTmVSRXlUdzlqUWdPa2xhc2FMaEpKdkY0Ty05QlhrRGNaWnA2V2VBRk1SZVJuSl96T1prS3BJNUhNU2kzMHRFZWxnOTZqUEpQSVBuS3h2NnJKUC04dTNPMGxFeUZjN252SEZva09Oek11ejZtN0l0dTNDTzZicmx2ZmN6cmZUZG9PcW9vMmRndjlKLXBPZ0VQVy0zaWhMQzl0dkJiZnVjNEo5Nk9vM19RcUw0Tzc5ZHFv)
        APP_STORE_CONNECT_ISSUER_ID: Encrypted(Z0FBQUFBQmZNWHEyRzJ5LWItMTYtVGZ5bGs0TUxJZ2p1Um15SUFIQm5va2hBa0NDeGtJUE9BM3B1djdBUUZ1VnlpWW9sMlJ2aFFUOGtmWTdGMkUwOGdjMlF6YTF4WW4zR0NzbkVfeW43ak93MjVHYm9PbGluUktydWcxdzVYZC0wZEpDVUowWmxNUVo=)
        APP_STORE_CONNECT_KEY_IDENTIFIER: Encrypted(Z0FBQUFBQmZNWHEyVXhZLWNoMzg3RVJTTFdsVjhkcEpnbWI3eEJ0eEtQYlc2bXh6MFVuYktQdHJNaUtPUlVrM0xTWWtkZFVRb2duc2I4TUhncEpjdDg5V3ZiekJTT2RPbUE9PQ==)
        APP_STORE_CONNECT_PRIVATE_KEY: Encrypted(Z0FBQUFBQmZNWHEyUnJRR2VaSmNpeE1SSEdBVzNOeFU2Yy1keUlCMDJ6dHRkODZvMEU1SXFENVFtYTJxUlZhRGRjbUlITXNueDJUWk1qWlJjbVpCbExXeTRPRzZ5TElPdEJzQW1PRVd6Z1Q0MExjdm1YX3pySjJxZTVpb0FlRXk4OHRrZ2N0QkM2dWpTQ0YyRE5yYjNBZWdVUlk2UDVCekJmVjh1WTMtcEZNcWFScTYtcm8zY2o4Q1V2cElMVjREUE5kY2VQSlI3TllkRUcyQnNVbkkxdEZtRFh1VnpPRHB5TlhxaEZldFBfdDVMcUM0b1JpZWFUM0hzbTV2MmlIdm8zZlQ1dG1VcHRqVzRCS1dOcnhfZkJER3drQTdmb1VFNEZ1YXBDY0x6LTViM3hkN0hLdldDRUcwcjluZjhya01BcW5saWxVSUE2clFIWlNBbkF3a2ZwT3dfMlZLTjg5dkd5M3h0QW9VcW53bmxqMG1WVVkySi02Z01VZXdxZnVyVzhNWVZ2RzFDZjZyY29zZjNvLUwwbWJKdG03NW05anl4UWpON2UtbEd5OHFxU0Y2amRuRjQzcz0=)
      flutter: stable
      xcode: latest
      cocoapods: default
    triggering:
      events:
        - push
        - pull_request
        - tag
      branch_patterns:
        - pattern: release*
          include: true
          source: true
    scripts:
      - |
        # set up key.properties
        echo $CM_KEYSTORE | base64 --decode > /tmp/keystore.keystore
        cat >> "$FCI_BUILD_DIR/android/key.properties" <<EOF
        storePassword=$CM_KEYSTORE_PASSWORD
        keyPassword=$CM_KEY_ALIAS_PASSWORD
        keyAlias=$CM_KEY_ALIAS_USERNAME
        storeFile=/tmp/keystore.keystore
        EOF
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - cd . && flutter packages pub get
      - cd . && flutter analyze
      - |
        cd ios
        pod install
      - 'flutter packages pub run build_runner build --delete-conflicting-outputs

        '
      - cd . && flutter build apk --release
      - find . -name "Podfile" -execdir pod install \;
      - keychain initialize
      - app-store-connect fetch-signing-files "$(xcode-project detect-bundle-id)"
        --type IOS_APP_DEVELOPMENT --create
      - keychain add-certificates
      - cd . && flutter build ios --release --no-codesign
      - xcode-project use-profiles
      - cd . && xcode-project build-ipa --workspace "ios/Runner.xcworkspace" --scheme
        "Runner"
    artifacts:
      - build/**/outputs/**/*.apk
      - build/**/outputs/**/*.aab
      - build/**/outputs/**/mapping.txt
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - viogull@gmail.com
      google_play:
        credentials: Encrypted(Z0FBQUFBQmZNWHEyUWpxMG0taXdFejhXdF9CWjFuSUVQWU1aNExxMkJWY29QR3hVbDNHT3BPWXhZQW8yc2NieEFTaHBiZWVJX2RIOW9PTWZyZU1nREI5Tkw0VzJZTXhDWlNfYzRqREs5c0hzcUVKOWN6c3JvYi1QdGw1RUNqdklwSXQxbkpsc0dJZUxPQmhrYnp4NnpjQUtfRlV1UXFpYkU5ME5Na3dFeDFuQ01tVmZ4UTQ0Y1dNclg4eTVDNDNkMndVM29scEI5VHRGcFVNWC1FekhTUVdUd1FQZXpscVZjN2hmaUt2bnBYZ1dSWXZweFdOcUFfUlVQV0d3eUZGamtZXzNxREZiS2d2NmR6TXFveUNvMTFUcjB5MUNKRXdOM0UydUprOE9uZE5jWHcyd05xOFMzdWhyWEg4T2dkSk5KMkM5cHU0WnJHdGpMVnpEZ1E3S0t1dVZKN3h2aVh3MmpNWlhCQ0xSa0lWNS10VHJ5dWlWeVpMNURROXN6TmNBWUVSTHFLY3ZUSEZuUnYtTHNXQlM3VU11UDFFdGg5emFpMzdwTG9QRXRjRWEtWXFTZkMwT0VpMTJQaExVa1RNaHNMWldFWEVGU1BEWkE3bXl6R1hPdFdRVzcxUXplejhhX25uaG5LR0lpMkpGZWJSUDhGWFhlWlNzdzlPRW5KbTNRRjVWTlg3OG83ZFhxbzZkOG5fQ1VwOE5YVlRSaTNlQzRjNGlHNElQanBwRmJIem5rTUVHMnVPY3VSNWUzdmJTeXBYdFFPcXhCRlphTW1zWG9Sd01Fb0dhb1FGZkxVRFRib3VNa3NkeGVVTWVLeExvR1gyT1FmcnlHSXUwbXFfcFppc2lKMXhUS0o0REJDTktnTGsxRDdIejdld2IwSFBzdkxnZklkZld3aS03VHZYX0Vmb0F1UUR2WFZIRHVuN1ppSy1DRHVaTTRmRnZDMkNPRmhYRld4dFRQcjRCTi05NTdGeDFYZUx6VmowTWRtaWlJZ3RlcnAyanFndkZQakRpdWlVY1NpSERRamRwVWtBZ2hSc0Eya19IZTNuRTc5M3d6RkF1XzZnMGdaQUdCbnY2ZmZtdWNrenk2alVZYzhfTV9LdXVUUGdOZ1BmQ2daTDVCeFh0RTVaYmhnUUMzV2NqVWFZT3hXb25BNm00TE5QMkxYWDhGeXJWdExoWTZTS09Ha3RvaUxhcW5KX2pJbkV5M2ppUHRud2IwZGw4LS10NXBnYm14ZG9PNXNnemYzRXV2Y0Npb3BROTNUOUxJN1E4ZG80YkhRdUVHcTJyV0FXYU11QUVURUFBcy1uaWhmSXNMNlB0Z3BBZ2lzcDlKazNFZTNQRHhmcDVTX2ViWDhNWk5sMUZiVDVMSWpjYmFZSDUxRU5aY19fYnQ2VWVmb05KRmZwclRTRE9oN2NoMWJnckpjc0x3dXFJaDl6bUdVZFNSTHBiS05CUjRiNlRRaF9RODVlMjhnUzhBYUFkUURyYVQ4NzhaNUZlVlNYNlk5aWNNTXdQN1NRdERlSWlvUzhDZkdUYmNrNnVPUDBrMkdReURBZ1NYaHVzVkluQU9LRWJqNXg1SzR2MEdJWWkwcWFVRFZ2TjhuTDZteHdiS05TZXllcEJFLTVhS3VBWHdxLVd5Szk1MHVIUWtYUXh1dTNEVGt6RDdQemc4QTE4QmMzaGlZbER3MDNEZXVUdnFBYjZNOWl1VWRUZjhUV0p1eDBFLTlYVWszc2UtOGFKazB3bmVmRC1WaWt3VEdWV2J5bkp3azZha3IwbUo5b1RRXzZlT2F0TkhmQ08ybEZVN0tXQmxMcUVPUDlUYV91N3FSNHNQaHdBdDZHZ2NGTUpKbGJvekIwak1QRHlNbTZnNUp3cVlXdE9CME4wUWZXN3VTcjNHcS1CdXFzQllKN0ZONHFjQ1BtYzJLQ2xuWXphR21LZldMZExrekg0SFVhamFCWWNrV3RGTDdRTmhza05Wb25VUDJzMVhrWld4M1RuUU1hQ042UEZialFSbjVzTm1vTFFSVi1vQkt2ZTFmZkZlUFNxTHBhYmpGTEZlejBNYVFDalNvcnRYb205UlM2RW9feTlIQ2R4NFBqMjNyZ0lrNUV4UXJ0dFNOQnV3SjRVZnZNRkhScXlZYVJsZ3NZdFItMkI0aTdTV2txN29ZMHJPZ2dYUkRaN1IwY0VnV1pVZXlSRGlFX3UtS1ljOTMwSnVYbTNKcWYxYXZjRWdkV1plWEZlbTF5Szlqc3FZVEMyeDVfVU5kcFZWa0Zhb3h1UkRGQU05OG1lRklwNl9IczUtM0FhU21kVEhsSjY5V3hfY0IzdkZZV2NYUWJobnZ5VU02LWp3Z1JzbUd4a2FhTm4wUS1fU01DMG53SldtN3FGNGxram0tSkk3bmw0THpQQzc0WEpRbnA1NVdzU1c5Tk5tdlBybE5faE9TOXg1REQ1RmNYOWVUT0VtVTZleENLSTJmV3F6Qndyb2NBb0FkTVJkUVUtSUdJaW5EbDh6eFVUU05WTTZQMDI0UndSSnVXZlB0SlowMWV2aHZZUlBaSWdxTC0xZUlHYjVna003LWVNeUlzSkQ4VzFZQmlObXBLQmZrSm5aUF9NQm55Mlp3OEhIUnFqQTB1WHY5anNvci01bWYyUjhGa0tabXo0ZHl1V1RXUVJLQWZzNVNfbW8wUXFiNW5JOFhxdWplS3VBWnNUUHZvR3lfRUg1eEdrc1lrVk5ZZTVadENrSU5ETnZlN01vaHVTUDNQV0V6cHBEc0M3UGVvSF9VdzlDVDR1TDVhY2pISVQwd0c4YVFZbkpMMWhUTWpnTzRvd1oxY29qcnVEcG9Nc3NEY3U5U015bTNHUnA2eXlxQ2tsWE9Bb1QtVzJSZWVoNzlmamh3S1NKN2xDN1l0NmMyRnRqZnJmNTNNTUtRc0N0ZHZkLURpLWEwRlRzcG1XdEk2Y3FmaWd1TDNjZ196ZE1VekNTanFCSG1KRm41dDNmMG5IVE5uMm9VRk0xR09DNnJvVGhsNmVYOUhGYkExTThnVG12NktIMlVSZ2gtZmxLTjVqSThfdjBvOWx3SmVMVDFXdHczS0MtVnN2V3JEY1VmaWF6RjB4azBHOGxyUjRFeHplWkVmZV9tYS1td1lMbmMzV3ljNjE4Q3NheEV1YThZWXVVVXhkNzhxZERKTmFHZlVtcVVNU3oyOXlrc2pXSXZJUTMzTWQ3cnpueDg2VHZ4YU96QVFySGRpanJrTWZVRFpUcDNpeDRwSGFxbUQ4ZmhQbDJDYlg1VTgxWlZLck5nSWVCWktyTzVZUFYwc2swQkludFVpNkRrMWtvVThuX0tZZWY1QUY1U1RLWlV4RFhGMzUtdVFaZU5rVnplUHJmYmx4c0ZYN3pzWEJYUEhPUzc5djExU1ZTLWFMNjhNamZvX2JQcmM3RkhFbTJPSjNBOHk3U1JZMEVvS2FDRUlXQ0g5TzI0YW1VQ0xsSFc5TDhFSWF3WFdvWE4wRWx0Wk0zR21CeENwQmFKckdOeDA2V2pQNXprMkpZYmx3Z1M3VWs3dHRYeWFURWlfTm5XTlQ2OEN5TGtZakVWeHpzeHRFSW5DQ3BPTTZlWVFleUxmY2xVSjlpVnRQeTJ5M3ByMXhzUDhDZTRoV1VLUXlaMGo1T1RFMzR6MmRSRDJwWUZ5MVc2ZjdKR0xEZFhVMnh3cGRab19uQ2NFVUoxY2djRVVEdGhxOGVZSy1CUHdHQm5ia0d4bEdnN1hwU1M2X0VVU2xjR1VXUFI2Wk1mUFNPTkdLVVhkeXZoLV9qbmFRQ3FUNDBublBycVN4WDdUS0VLZHlVT193RkFiT1ZydnBrWUN5czk4QXZQWnUyV3hBLTRfLTZSWjlYclBGSUxEM0tmVDlucVl5Skl6b2hBcUw1UDRaeUZxb281cmhaR0Vjc3MtMGVJbjhfN09aUjhaSFN6SFkyVzVfcF9QQ3FvcW5pTHR2M2lLVnVIUzhXRkt0LU5ZUGU5MFhwdDZTN3MyQm8xSjROeVlwNEFWVE9aQ3pfa0FLVkdIZjhxaThYdDBOd252NGp3OUE0ZHBsRmo0akZva1ZRY1FvN29fV1Y0QlEwbUQ0WEJGcjdZM25BdmlhLS1EZkRXX0d4a0VDYXVIWlZUbWRSNHFLZWZWMldHcVNkczJ6R251NjBMYTNaanBSUDRiQU54bGFtWkh3dmh3ZjVRbk1WaVc0WDVsQlJxdlNjcGxycGJzQTRYajJGdEhtMVNFMzN0WE50UWRMMjJfLS1HQjZGeW45N0x5aU56N1lod0VCTEJtM0FFZl8xOGxkRlRwYWtfMlBVRm5IZnVvUFdjdW1uQllIT3BvPQ==)
        track: internal
      github_releases:
        prerelease: true
        artifact_patterns:
          - '*.apk'
          - '*.ipa'
